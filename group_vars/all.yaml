---
# This variable dynamically determines the IP address for Nomad to advertise.
# It prefers the first non-loopback IPv6 address if available,
# otherwise it falls back to the default IPv4 address.
advertise_ip: "{{ ansible_all_ipv6_addresses[0] | default(ansible_default_ipv4.address) }}"

# Global variables for all hosts
meta:
  NAMESPACE: "default"
  JOB_NAME: "phi-3-mini-instruct"
  API_SERVICE_NAME: "llama-api-phi-3-mini-instruct"
  RPC_SERVICE_NAME: "llama-rpc-worker-phi-3-mini-instruct"
  MODEL_PATH: "/opt/nomad/models/Phi-3-mini-4k-instruct-Q4_K_M.gguf"
  WORKER_COUNT: "1"
